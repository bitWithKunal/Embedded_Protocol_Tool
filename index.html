<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embedded Protocol Reference</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
    primary: {
        50: '#f0f9ff',
        100: '#e0f2fe',
        200: '#bae6fd',
        300: '#7dd3fc',
        400: '#38bdf8',
        500: '#0ea5e9',
        600: '#0284c7',
        700: '#0369a1',
        800: '#075985',
        900: '#0c4a6e',
    },
    secondary: {
        50: '#f8fafc',
        100: '#f1f5f9',
        200: '#e2e8f0',
        300: '#cbd5e1',
        400: '#94a3b8',
        500: '#64748b',
        600: '#475569',
        700: '#334155',
        800: '#1e293b',
        900: '#0f172a',
    },
    accent: {
        50: '#fdf2f8',
        100: '#fce7f3',
        200: '#fbcfe8',
        300: '#f9a8d4',
        400: '#f472b6',
        500: '#ec4899',
        600: '#db2777',
        700: '#be185d',
        800: '#9d174d',
        900: '#831843',
    },
    dark: {
        800: '#1e293b',
        900: '#0f172a',
    }
}
                }
            }
        }
    </script>
    <style>
.prose pre {
    background: var(--dark-800);
    border-left: 4px solid var(--highlight-color);
    border-radius: 0.5rem;
    padding: 1rem;
    overflow-x: auto;
}
.locked {
    opacity: 0.5;
    pointer-events: none;
}


.prose h3 {
    font-size: 1.25rem; /* 20px */
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: var(--text-color);
}

.prose p, .prose li {
    font-size: 1rem; /* 16px */
    line-height: 1.5;
    color: var(--text-color);
}

.prose ul, .prose ol {
    padding-left: 1.25rem;
}

.protocol-card .prose {
    font-size: 1rem; /* Ensures base text size */
}

        .code-example .language {
            display: inline-block;
            background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
            color: #ffffff;
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 12px;
        }
        .dark {
    --bg-color: #0f172a;         /* Dark blue-gray */
    --text-color: #e2e8f0;       /* Light gray */
    --card-bg: #1e293b;          /* Slightly lighter blue-gray */
    --highlight-color: #38bdf8;  /* Bright blue for accents */
    --border-color: #334155;     /* Subtle borders */
}
.light {
    --bg-color: #f8fafc;         /* Very light gray */
    --text-color: #1e293b;       /* Dark blue-gray */
    --card-bg: #ffffff;          /* Pure white */
    --highlight-color: #0ea5e9;  /* Vibrant blue */
    --border-color: #e2e8f0;     /* Light gray borders */
}
        .real-world-example {
            background: var(--glass-bg);
            padding: 24px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-color);
            box-shadow: 0 4px 12px var(--shadow-color);
            transition: transform 0.3s ease;
        }

        .real-world-example:hover {
            transform: translateY(-4px);
        }

.prose code {
    background: var(--dark-800);
    padding: 0.2rem 0.4rem;
    border-radius: 0.25rem;
    font-size: 0.9em;
    color: #f0f9ff;
}

        .prose img {
            border-radius: 0.5rem;
            margin: 1rem auto;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

.sidebar-link {
    transition: all 0.2s ease;
    color: var(--text-color);
}

.sidebar-link:hover {
    background: rgba(14, 165, 233, 0.15);
    transform: translateX(4px);
}

.sidebar-link.active {
    background: linear-gradient(90deg, rgba(14, 165, 233, 0.2), transparent);
    border-left: 3px solid var(--highlight-color);
    font-weight: 600;
}

.protocol-card {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.premium-locked {
    display: none;
}


.protocol-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
    background: var(--highlight-color);
    color: white;
}


.toggle-content {
    border-left: 3px solid var(--highlight-color);
}

        .toggle-content.active {
            max-height: 1000px;
            transition: max-height 0.5s ease-in;
        }
        .toggle-example {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    transition: all 0.2s ease;
}

.toggle-example:hover {
    background: var(--highlight-color);
    color: white;
}

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .dark ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-200 transition-colors duration-200 min-h-screen flex">
    <!-- Mobile sidebar toggle -->
    <div class="md:hidden fixed bottom-4 right-4 z-50">
        <button id="mobileSidebarToggle" class="bg-primary-600 text-white p-3 rounded-full shadow-lg hover:bg-primary-700 transition-colors">
            <i class="fas fa-bars"></i>
        </button>
    </div>


    <!-- Sidebar -->
    <div id="sidebar" class="w-64 bg-white dark:bg-gray-800 shadow-lg flex-shrink-0 fixed h-full z-40 -translate-x-full md:translate-x-0 transition-transform duration-300">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-bold text-primary-600 dark:text-primary-400">
                    <i class="fas fa-microchip mr-2"></i>Embedded Protocols
                </h2>
                <button id="closeSidebar" class="md:hidden text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>


        <div class="overflow-y-auto h-[calc(100%-60px)]">
            <div class="p-4">
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 sidebar-category">Communication</h3>
                    <ul class="space-y-1">
                        <li>
                            <a href="#uart" class="sidebar-link active flex items-center px-3 py-2 rounded-md text-sm font-medium">
                                <i class="fas fa-exchange-alt mr-3 text-primary-500"></i>
                                UART
                            </a>
                        </li>
                        <li>
                            <a href="#i2c" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium">
                                <i class="fas fa-project-diagram mr-3 text-primary-500"></i>
                                I2C
                            </a>
                        </li>
                        <li>
                            <a href="#spi" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium">
                                <i class="fas fa-bolt mr-3 text-primary-500"></i>
                                SPI
                            </a>
                        </li>
                        <li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-usb mr-3 text-primary-500"></i>
        USB <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-battery-full mr-3 text-primary-500"></i>
        USB Power Delivery (USB-PD) <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fab fa-bluetooth-b mr-3 text-primary-500"></i>
        Bluetooth (BLE/Classic) <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-wifi mr-3 text-primary-500"></i>
        Wi-Fi (802.11) <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-network-wired mr-3 text-primary-500"></i>
        Zigbee (802.15.4) <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-signal mr-3 text-primary-500"></i>
        LoRa/LoRaWAN <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-tags mr-3 text-primary-500"></i>
        RFID/NFC <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-plug mr-3 text-primary-500"></i>
        RS-232/RS-485 <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-ethernet mr-3 text-primary-500"></i>
        Ethernet (TCP/IP, MAC, PHY) <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>
<li>
    <a href="javascript:void(0)" onclick="alert('🔒 Buy Premium to unlock this protocol')" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium opacity-50 cursor-not-allowed">
        <i class="fas fa-cogs mr-3 text-primary-500"></i>
        Modbus (RTU/TCP) <span class="ml-2 text-xs text-red-500">(Premium)</span>
    </a>
</li>

                    </ul>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 sidebar-category">Bonus</h3>
                    <ul class="space-y-1">
                        <li>
                            <a href="#custom" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium">
                                <i class="fas fa-code mr-3 text-primary-500"></i>
                                Custom Protocols
                            </a>
                        </li>
                        <li>
                            <a href="#interview" class="sidebar-link flex items-center px-3 py-2 rounded-md text-sm font-medium">
                                <i class="fas fa-question-circle mr-3 text-primary-500"></i>
                                Interview Q&A
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Main content -->
    <div id="main-content" class="flex-1 transition-all duration-300 md:ml-64">
        <!-- Header -->
        <header class="bg-white dark:bg-gray-800 shadow-sm">
            <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center">
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
                    Embedded Protocol Mastery by Kunal Saraswat
                </h1>
                <div class="flex items-center space-x-4">
                    <!-- LinkedIn Button -->
<a href="https://www.linkedin.com/in/kunalsaraswat" target="_blank" class="flex items-center text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
    <i class="fab fa-linkedin mr-2"></i>
    <span class="hidden md:inline">LinkedIn</span>
</a>
<div id="premiumModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden">
    <div class="bg-white p-6 rounded shadow-lg max-w-md text-center dark:bg-gray-800">
        <h2 class="text-xl font-semibold text-primary-600 dark:text-primary-400 mb-4">Premium Required</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">This section is available only to premium users. Unlock all protocols and exclusive content now.</p>
        <a href="payment.html" class="inline-block bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">Buy Premium</a>
    </div>
</div>

                    <a href="payment.html" target="_blank" class="flex items-center text-white bg-green-600 hover:bg-green-700 px-3 py-1 rounded-md shadow">
    <i class="fas fa-lock mr-2"></i>
    <span class="hidden md:inline">Buy Full Tool</span>
</a>

                      <!-- Paid Badge (Initially hidden) -->
  <div id="paidBadge" class="hidden bg-green-600 text-white text-sm font-semibold px-3 py-1 rounded-full shadow">
    ✅ Paid User
  </div>

<!-- Send Feedback Button -->
<button onclick="sendFeedbackEmail()" class="flex items-center text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors">
    <i class="fas fa-envelope mr-2"></i>
    <span class="hidden md:inline">Send Feedback</span>
</button>
                    <button id="themeToggle" class="flex items-center text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                        <i class="fas fa-moon mr-2"></i>
                        <span class="hidden md:inline">Dark Mode</span>
                    </button>
                    <div class="relative">
                        <button id="searchToggle" class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400">
                            <i class="fas fa-search"></i>
                        </button>
                        <div id="searchBox" class="hidden absolute right-0 mt-2 w-64 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10 p-2">
                            <input type="text" placeholder="Search protocols..." class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-800">
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Content -->
        <main class="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8">
            <!-- UART Section -->
            <section id="uart" class="mb-12">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden protocol-card">
        <div class="p-6">
            <div class="flex items-center mb-4">
                <div class="bg-primary-100 dark:bg-primary-900 p-3 rounded-full mr-4">
                    <i class="fas fa-exchange-alt text-primary-600 dark:text-primary-400 text-xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">UART Protocol</h2>
            </div>

            <div class="prose dark:prose-invert max-w-none">
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    UART (Universal Asynchronous Receiver/Transmitter) is a robust, asynchronous serial communication protocol perfect for embedded systems. It uses just two wires (TX and RX) to exchange data, making it ideal for microcontrollers, sensors, and modules like GPS or modules such as GPS or Bluetooth.
                </p>

                <div class="text-xl font-semibold3 mb- text-gray-800 dark:text-gray-200 mb-3">Key Features</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Asynchronous communication (no clock signal)</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Configurable baud rates (9600, 115200, etc.)</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Full-duplex communication (simultaneous TX/RX)</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Minimal wiring (TX, RX, GND)</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Optional error detection with parity bits</span>
                        </li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Frame Structure</h3>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <table class="w-full">
                            <thead class="bg-gray-200 dark:bg-gray-600">
                                <tr>
                                    <th class="px-4 py-2 text-left">Component</th>
                                    <th class="px-4 py-2 text-left">Description</th>
                                    <th class="px-4 py-2 text-left">Duration</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-gray-200 dark:border-gray-600">
                                    <td class="px-4 py-2">Start Bit</td>
                                    <td class="px-4 py-2">Signals frame start (logic 0)</td>
                                    <td class="px-4 py-2">1 bit</td>
                                </tr>
                                <tr class="border-b border-gray-200 dark:border-gray-600">
                                    <td class="px-4 py-2">Data Bits</td>
                                    <td class="px-4 py-2">Payload, typically 8 bits (LSB first)</td>
                                    <td class="px-4 py-2">5-8 bits</td>
                                </tr>
                                <tr class="border-b border-gray-200 dark:border-gray-600">
                                    <td class="px-4 py-2">Parity Bit</td>
                                    <td class="px-4 py-2">Optional error check (even/odd)</td>
                                    <td class="px-4 py-2">1 bit (if used)</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-2">Stop Bit(s)</td>
                                    <td class="px-4 py-2">Signals frame end (logic 1)</td>
                                    <td class="px-4 py-2">1-2 bits</td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Example (8-N-1): 'A' (0x41) → 0-10000010-1 (10 bits)</p>
                    </div>
                </div>
            </div>

            <div class="mb-6">
                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Advantages</h3>
                <ul class="space-y-2">
                    <li class="flex items-start">
                        <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                        <span><strong>Simplicity</strong>: Easy to implement with minimal hardware and software requirements.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                        <span><strong>Low Cost</strong>: Requires only two wires (TX, RX), reducing wiring complexity and cost.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                        <span><strong>Full-Duplex</strong>: Supports simultaneous bidirectional communication.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                        <span><strong>Wide Compatibility</strong>: Supported by most microcontrollers and peripherals.</span>
                    </li>
                </ul>
            </div>

            <div class="mb-6">
                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Disadvantages</h3>
                <ul class="space-y-2">
                    <li class="flex items-start">
                        <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                        <span><strong>Limited Speed</strong>: Lower baud rates (e.g., 115200 bps) compared to protocols like SPI or I2C.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                        <span><strong>Short Range</strong>: Effective only for short distances (up to 15m at low baud rates).</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                        <span><strong>No Multi-Device Support</strong>: Point-to-point communication limits it to two devices.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                        <span><strong>Noise Sensitivity</strong>: Lacks differential signaling, making it susceptible to noise over long distances.</span>
                    </li>
                </ul>
            </div>

            <div class="mb-6">
                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Real-Time Usage</h3>
                <ul class="space-y-2">
                    <li class="flex items-start">
                        <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                        <span><strong>Microcontroller Communication</strong>: Used to interface microcontrollers with peripherals like GPS modules, Bluetooth modules (e.g., HC-05), and sensors.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                        <span><strong>Debugging</strong>: Commonly used for serial console output to debug embedded systems via tools like PuTTY or Tera Term.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                        <span><strong>IoT Devices</strong>: Enables communication between IoT devices and gateways, such as sending sensor data to a Raspberry Pi.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                        <span><strong>Industrial Automation</strong>: Connects PLCs and HMIs for control and monitoring in industrial settings.</span>
                    </li>
                </ul>
            </div>

            <div class="mb-6">
                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Short Notes</h3>
                <ul class="space-y-2">
                    <li class="flex items-start">
                        <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                        <span><strong>Asynchronous Nature</strong>: No shared clock; both devices must agree on baud rate to synchronize.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                        <span><strong>Frame Format</strong>: Typically 8 data bits, no parity, 1 stop bit (8-N-1), but configurable (e.g., 7-E-2).</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                        <span><strong>Hardware Support</strong>: Most microcontrollers (e.g., AVR, ARM) have built-in UART peripherals.</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                        <span><strong>Software UART</strong>: Can be implemented via bit-banging if hardware UART is unavailable.</span>
                    </li>
                </ul>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Visual Representation</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                    <img src="https://www.codrey.com/wp-content/uploads/2017/10/UART-Block-Diagram.png" alt="UART Block Diagram" class="w-full h-auto">
                    <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">UART Block Diagram</p>
                </div>
                <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                    <img src="https://developer.electricimp.com/sites/default/files/attachments/images/uart/uart3.png" alt="UART Data Frame" class="w-full h-auto">
                    <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">UART Data Frame Structure</p>
                </div>
                <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                    <img src="https://soldered.com/productdata/2023/03/uart-connection-two-devices.png" alt="UART Data Frame" class="w-full h-auto">
                    <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">UART Connection of two Devices</p>
                </div>
                <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                    <img src="https://embeddedwala.com/uploads/images/202303/img_temp_64188c1892bb56-15969768-71744046.png" alt="UART Data Frame" class="w-full h-auto">
                    <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">UART Glance</p>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Code Examples</h3>
            <div class="space-y-4">
                <div>
                    <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <span class="font-medium">AVR UART Example (Embedded C)</span>
                        <i class="fas fa-chevron-down transition-transform duration-300"></i>
                    </button>
                    <div class="toggle-content mt-2">
                        <pre class="language-c bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>#include "avr/io.h"
#include "util/delay.h"

#define F_CPU 16000000UL  // CPU frequency (16 MHz)
#define BAUD 9600         // Baud rate
#define MYUBRR F_CPU/16/BAUD-1  // Baud rate register value

void USART_Init(unsigned int ubrr) {
    UBRR0H = (unsigned char)(ubrr >> 8);  // Set baud rate (high byte)
    UBRR0L = (unsigned char)ubrr;         // Set baud rate (low byte)
    UCSR0B = (1<<RXEN0)|(1<<TXEN0);      // Enable receiver and transmitter
    UCSR0C = (1<<USBS0)|(3<<UCSZ00);     // 8-bit data, 1 stop bit, no parity
}

void USART_Transmit(unsigned char data) {
    while (!(UCSR0A & (1<<UDRE0)));  // Wait for empty transmit buffer
    UDR0 = data;                     // Send data
}

unsigned char USART_Receive(void) {
    while (!(UCSR0A & (1<<RXC0)));   // Wait for data to be received
    return UDR0;                     // Return received data
}

int main(void) {
    USART_Init(MYUBRR);
    unsigned char message[] = "Hello, UART!\n";
    int i;

    while (1) {
        unsigned char data = USART_Receive();
        USART_Transmit(data);
        for (i = 0; message[i] != '\0'; i++) {
            USART_Transmit(message[i]);
            _delay_ms(100);
        }
    }
}</code></pre>
                    </div>
                </div>

                <div>
                    <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <span class="font-medium">UART Transmitter (Verilog)</span>
                        <i class="fas fa-chevron-down transition-transform duration-300"></i>
                    </button>
                    <div class="toggle-content mt-2">
                        <pre class="language-verilog bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>module uart_tx(
    input clk,                    // System clock
    input [7:0] data_in,         // 8-bit data to transmit
    input tx_start,              // Start transmission signal
    output reg tx,               // TX line output
    output reg tx_done           // Transmission complete signal
);

    parameter CLK_FREQ = 50000000;  // System clock frequency (50 MHz)
    parameter BAUD_RATE = 9600;     // Baud rate
    parameter BIT_PERIOD = CLK_FREQ / BAUD_RATE;

    reg [3:0] state = 0;
    reg [15:0] counter = 0;
    reg [7:0] tx_data;

    always @(posedge clk) begin
        case (state)
            0: begin  // Idle
                tx <= 1'b1;
                tx_done <= 1'b0;
                if (tx_start) begin
                    tx_data <= data_in;
                    state <= 1;
                    counter <= 0;
                end
            end

            1: begin  // Start bit
                tx <= 1'b0;
                if (counter == BIT_PERIOD-1) begin
                    counter <= 0;
                    state <= 2;
                end else begin
                    counter <= counter + 1;
                end
            end

            2,3,4,5,6,7,8,9: begin  // Data bits
                tx <= tx_data[state-2];
                if (counter == BIT_PERIOD-1) begin
                    counter <= 0;
                    state <= state + 1;
                end else begin
                    counter <= counter + 1;
                end
            end

            10: begin  // Stop bit
                tx <= 1'b1;
                if (counter == BIT_PERIOD-1) begin
                    counter <= 0;
                    state <= 0;
                    tx_done <= 1'b1;
                end else begin
                    counter <= counter + 1;
                end
            end
        endcase
    end
endmodule</code></pre>
                    </div>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3">Resources</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <a href="https://www.youtube.com/watch?v=JuvWbRhhpdI" target="_blank" class="flex items-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                    <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div>
                        <p class="font-medium">UART Communication Explained</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Foolish Engineer</p>
                    </div>
                </a>
                <a href="https://www.youtube.com/watch?v=ixtkA6eJtXA" target="_blank" class="flex items-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                    <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div>
                        <p class="font-medium">UART Interview Questions</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">JTECH</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

            <section id="i2c" class="mb-12">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden protocol-card">
        <div class="p-6">
            <div class="flex items-center mb-4">
                <div class="bg-primary-100 dark:bg-primary-900 p-3 rounded-full mr-4">
                    <i class="fas fa-project-diagram text-primary-600 mr-4 text-xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">I2C Protocol</h2>
            </div>

            <div class="prose dark:prose-invert max-w-none">
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    I2C (Inter-Integrated Circuit) is a synchronous, multi-master, multi-slave serial communication protocol that uses just two wires (SDA and SCL). It's widely used for connecting low-speed peripherals like sensors, EEPROMs, and IO expanders to microcontrollers.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Key Features</h3>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Synchronous communication (uses clock line)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Multi-master capability</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>7-bit or 10-bit device addressing</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Two-wire interface (SDA and SCL with pull-ups)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Speed variants: Standard (100kHz), Fast (400kHz), Fast+ (1MHz)</span>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Frame Structure</h3>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                            <table class="w-full">
                                <thead class="bg-gray-200 dark:bg-gray-600">
                                    <tr>
                                        <th class="px-4 py-2 text-left">Component</th>
                                        <th class="px-4 py-2 text-left">Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">Start Condition</td>
                                        <td class="px-4 py-2">SCL high → SDA high-to-low transition</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">Address Byte</td>
                                        <td class="px-4 py-2">7-bit address + R/W bit (0=write, 1=read)</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">ACK/NACK</td>
                                        <td class="px-4 py-2">Receiver pulls SDA low (ACK) or high (NACK)</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">Data Byte</td>
                                        <td class="px-4 py-2">8-bit data (MSB first) with ACK after each byte</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">Stop Condition</td>
                                        <td class="px-4 py-2">SCL high → SDA low-to-high transition</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Example: Write 0x42 to device 0x68 → Start-0xD0-ACK-0x42-ACK-Stop</p>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Advantages</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Minimal Wiring</strong>: Uses only two wires (SDA, SCL) for multiple devices, reducing complexity.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Multi-Device Support</strong>: Connects multiple slaves (up to 127 with 7-bit addressing) on a single bus.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Multi-Master Capability</strong>: Supports multiple masters with arbitration to prevent conflicts.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Built-in Acknowledgment</strong>: ACK/NACK mechanism ensures reliable data transfer.</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Disadvantages</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>Lower Speed</strong>: Limited to 100 kHz, 400 kHz, or 1 MHz, slower than SPI or USB.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>Short Range</strong>: Effective only for short distances (typically a few meters) due to capacitance.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>Pull-Up Resistors</strong>: Requires external pull-up resistors on SDA and SCL, adding complexity.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>Clock Stretching</strong>: Slave devices can slow down communication, complicating timing.</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Real-Time Usage</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>Sensor Interfacing</strong>: Connects sensors like MPU6050 (accelerometer/gyro) and BME280 (temperature/humidity) to microcontrollers.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>EEPROM Storage</strong>: Used with EEPROMs (e.g., 24LC256) for non-volatile data storage in embedded systems.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>Display Modules</strong>: Interfaces with OLED or LCD displays (e.g., SSD1306) for user interfaces in IoT devices.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>IoT and Wearables</strong>: Enables communication in compact devices where low pin count is critical.</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Short Notes</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Synchronous Protocol</strong>: Uses SCL for clock synchronization, eliminating baud rate configuration.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Addressing</strong>: Supports 7-bit (128 devices) or 10-bit addressing for larger networks.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Open-Drain Lines</strong>: SDA and SCL are open-drain, requiring pull-up resistors (typically 4.7kΩ).</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Hardware Support</strong>: Most microcontrollers (e.g., AVR, STM32) include dedicated I2C peripherals.</span>
                        </li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Visual Representation</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://image.slidesharecdn.com/avrppt-151019130850-lva1-app6892/95/i2c-bus-protocol-5-638.jpg?cb=1445260216" alt="I2C Bus Topology" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">I2C Bus Topology</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://1.bp.blogspot.com/-n_XmZQhA3Bk/VOlH4CstQbI/AAAAAAAAA4Q/ZB8xBSrJ3V4/s1600/I2C-Data-Frame.png" alt="I2C Data Frame" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">I2C Data Frame</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://rheingoldheavy.com/wp-content/uploads/2015/01/I2C_Timing_Addressing.png" alt="I2C Data Frame" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">I2C Timing Diagram</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://embeddedwala.com/uploads/images/202303/img_temp_640cdacadfec43-51459922-42407762.png" alt="I2C Data Frame" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">I2C at glance</p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Code Examples</h3>
                <div class="space-y-4">
                    <div>
                        <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <span class="font-medium">AVR I2C Master Example (Embedded C)</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </button>
                        <div class="toggle-content mt-2">
                            <pre class="language-c bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>#include "avr/io.h"
#include "util/delay.h"

#define F_CPU 16000000UL
#define I2C_READ 1
#define I2C_WRITE 0

void I2C_Init(uint32_t clock_freq) {
    TWBR = (((F_CPU / clock_freq) - 16) / 2);
    TWSR = 0x00; // Prescaler = 1
    TWCR = (1 << TWEN); // Enable I2C
}

uint8_t I2C_Start(uint8_t address) {
    // Send START condition
    TWCR = (1 << TWINT) | (1 << TWSTA) | (1 << TWEN);

    // Wait for TWINT flag set
    while (!(TWCR & (1 << TWINT)));

    // Check status code
    if ((TWSR & 0xF8) != 0x08) // START condition failed
        return 1;

    // Send device address
    TWDR = address;
    TWCR = (1 << TWINT) | (1 << TWEN);

    while (!(TWCR & (1 << TWINT)));

    // Check if device acknowledged
    if ((TWSR & 0xF8) != 0x18 && (TWSR & 0xF8) != 0x40)
        return 1; // SLA+W or SLA+R failed

    return 0; // Success
}

uint8_t I2C_Write(uint8_t data) {
    TWDR = data;
    TWCR = (1 << TWINT) | (1 << TWEN);

    while (!(TWCR & (1 << TWINT)));

    if ((TWSR & 0xF8) != 0x28 && (TWSR & 0xF8) != 0x40)
        return 1; // Data byte not acknowledged

    return 0;
}

uint8_t I2C_Read_ACK(void) {
    TWCR = (1 << TWINT) | (1 << TWEN) | (1 << TWEA);
    while (!(TWCR & (1 << TWINT)));
    return TWDR;
}

uint8_t I2C_Read_NACK(void) {
    TWCR = (1 << TWINT) | (1 << TWEN);
    while (!(TWCR & (1 << TWINT)));
    return TWDR;
}

void I2C_Stop(void) {
    TWCR = (1 << TWINT) | (1 << TWSTO) | (1 << TWEN);
    while (TWCR & (1 << TWSTO)); // Wait until STOP executed
}

// Example: Read from MPU6050 (accelerometer)
uint8_t MPU6050_Read(uint8_t reg_addr, uint8_t *data) {
    uint8_t error = 0;

    error |= I2C_Start(0xD0); // MPU6050 address + write
    error |= I2C_Write(reg_addr);
    error |= I2C_Start(0xD1); // MPU6050 address + read
    *data = I2C_Read_NACK();
    I2C_Stop();

    return error;
}

// Example: Write to EEPROM 24LC256
uint8_t EEPROM_Write(uint16_t mem_addr, uint8_t data) {
    uint8_t error = 0;

    error |= I2C_Start(0xA0); // EEPROM address + write
    error |= I2C_Write(mem_addr >> 8); // High byte
    error |= I2C_Write(mem_addr & 0xFF); // Low byte
    error |= I2C_Write(data);
    I2C_Stop();

    _delay_ms(5); // EEPROM write cycle time

    return error;
}

int main(void) {
    I2C_Init(100000); // 100kHz

    uint8_t accel_data;
    uint8_t error = MPU6050_Read(0x3B, &accel_data);

    if (!error) {
        // Process accelerometer data
    }

    error = EEPROM_Write(0x0100, 0xAA);

    while(1) {
        // Main loop
    }
}</code></pre>
                        </div>
                    </div>

                    <div>
                        <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <span class="font-medium">I2C Master Controller (Verilog)</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </button>
                        <div class="toggle-content mt-2">
                            <pre class="language-verilog bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>module i2c_master (
    input clk,
    input reset,
    input [6:0] dev_addr,
    input [7:0] reg_addr,
    input [7:0] data_in,
    input start,
    output reg done,
    output reg scl,
    inout sda
);

parameter IDLE = 0, START = 1, ADDR = 2, REG = 3, DATA = 4, STOP = 5;

reg [2:0] state;
reg [3:0] bit_count;
reg [7:0] shift_reg;
reg sda_out, sda_oe;
reg rw;

assign sda = sda_oe ? sda_out : 1'bz;

always @(posedge clk or posedge reset) begin
    if (reset) begin
        state <= IDLE;
        scl <= 1;
        sda_out <= 1;
        sda_oe <= 0;
        done <= 0;
    end else begin
        case (state)
            IDLE: begin
                scl <= 1;
                sda_out <= 1;
                sda_oe <= 0;
                done <= 0;
                if (start) begin
                    state <= START;
                    bit_count <= 0;
                    rw <= 0; // Write operation
                end
            end

            START: begin
                sda_out <= 0;
                sda_oe <= 1;
                state <= ADDR;
                shift_reg <= {dev_addr, rw};
            end

            ADDR: begin
                if (bit_count < 8) begin
                    scl <= 0;
                    sda_out <= shift_reg[7];
                    shift_reg <= shift_reg << 1;
                    sda_oe <= 1;
                    bit_count <= bit_count + 1;
                    scl <= 1;
                end else begin
                    scl <= 0;
                    sda_oe <= 0; // Release for ACK
                    bit_count <= 0;
                    state <= REG;
                    shift_reg <= reg_addr;
                end
            end

            REG: begin
                if (bit_count < 8) begin
                    scl <= 0;
                    sda_out <= shift_reg[7];
                    shift_reg <= shift_reg << 1;
                    sda_oe <= 1;
                    bit_count <= bit_count + 1;
                    scl <= 1;
                end else begin
                    scl <= 0;
                    sda_oe <= 0; // Release for ACK
                    bit_count <= 0;
                    state <= DATA;
                    shift_reg <= data_in;
                end
            end

            DATA: begin
                if (bit_count < 8) begin
                    scl <= 0;
                    sda_out <= shift_reg[7];
                    shift_reg <= shift_reg << 1;
                    sda_oe <= 1;
                    bit_count <= bit_count + 1;
                    scl <= 1;
                end else begin
                    scl <= 0;
                    sda_oe <= 0; // Release for ACK
                    state <= STOP;
                end
            end

            STOP: begin
                scl <= 0;
                sda_out <= 0;
                sda_oe <= 1;
                scl <= 1;
                sda_out <= 1;
                done <= 1;
                state <= IDLE;
            end
        endcase
    end
end

endmodule</code></pre>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3">Resources</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <a href="https://www.youtube.com/watch?v=pbqk5yqbfuw" target="_blank" class="flex items-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div>
                            <p class="font-medium">I2C Communication Explained</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Foolish Engineer</p>
                        </div>
                    </a>
                    <a href="https://www.youtube.com/playlist?list=PLPmSCnkkX4qvjLTtSZzrGrveFz-tkAo2p" target="_blank" class="flex items-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div>
                            <p class="font-medium">I2C Interview Questions</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Playlist</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

            <div class="premium-locked">
<section id="usb" class="premium-section" hidden> <!-- USB content --> </section>
<section id="usb-pd" class="premium-section" hidden> <!-- USB-PD content --> </section>
<section id="bluetooth" class="premium-section" hidden> <!-- Bluetooth content --> </section>
<section id="wifi" class="premium-section" hidden> <!-- Wi-Fi content --> </section>
<section id="zigbee" class="premium-section" hidden> <!-- Zigbee content --> </section>
<section id="lora" class="premium-section" hidden> <!-- LoRa content --> </section>
<section id="rfid" class="premium-section" hidden> <!-- RFID/NFC content --> </section>
<section id="rs232" class="premium-section" hidden> <!-- RS-232/RS-485 content --> </section>
<section id="ethernet" class="premium-section" hidden> <!-- Ethernet content --> </section>
<section id="modbus" class="premium-section" hidden> <!-- Modbus content --> </section>

</div>


            <!-- SPI Section -->
            <section id="spi" class="mb-12">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden protocol-card">
        <div class="p-6">
            <div class="flex items-center mb-4">
                <div class="bg-primary-100 dark:bg-primary-900 p-3 rounded-full mr-4">
                    <i class="fas fa-bolt text-primary-600 dark:text-primary-400 text-xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">SPI Protocol</h2>
            </div>

            <div class="prose dark:prose-invert max-w-none">
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    SPI (Serial Peripheral Interface) is a synchronous, full-duplex serial communication protocol commonly used for short-distance communication in embedded systems. It uses four main lines: MOSI, MISO, SCLK, and SS (chip select).
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Key Features</h3>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Full-duplex communication (simultaneous TX/RX)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Master-slave architecture with individual chip select lines</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>No addressing - slave selected via chip select</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Configurable clock polarity and phase (CPOL, CPHA)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Higher data rates than I2C (often 10+ Mbps)</span>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Signal Lines</h3>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                            <table class="w-full">
                                <thead class="bg-gray-200 dark:bg-gray-600">
                                    <tr>
                                        <th class="px-4 py-2 text-left">Line</th>
                                        <th class="px-4 py-2 text-left">Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">MOSI</td>
                                        <td class="px-4 py-2">Master Out Slave In – Data from master to slave</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">MISO</td>
                                        <td class="px-4 py-2">Master In Slave Out – Data from slave to master</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2">SCLK</td>
                                        <td class="px-4 py-2">Serial Clock generated by the master</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">SS/CS</td>
                                        <td class="px-4 py-2">Slave Select – Active low signal to select specific slave</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Note: SPI is faster than I2C but lacks inherent addressing.</p>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Advantages</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>High Speed</strong>: Supports data rates of 10+ Mbps, faster than I2C or UART.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Full-Duplex</strong>: Simultaneous data transmission and reception between master and slave.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Simple Implementation</strong>: Straightforward protocol with no addressing overhead, ideal for single-slave setups.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-plus-circle text-blue-500 mt-1 mr-2"></i>
                            <span><strong>Flexible Configuration</strong>: Adjustable clock polarity (CPOL) and phase (CPHA) for compatibility with various devices.</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Disadvantages</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>More Pins Required</strong>: Uses four or more lines (MOSI, MISO, SCLK, SS per slave), increasing wiring complexity.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>No Inherent Addressing</strong>: Relies on chip select lines, requiring additional pins for multiple slaves.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>Short Range</strong>: Limited to short distances (typically a few meters) due to signal integrity issues.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-minus-circle text-red-500 mt-1 mr-2"></i>
                            <span><strong>No Error Checking</strong>: Lacks built-in error detection mechanisms like I2C’s ACK/NACK.</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Real-Time Usage</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>Flash Memory</strong>: Interfaces with SPI flash chips (e.g., W25Q64) for firmware storage in embedded systems.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>SD Cards</strong>: Used in SD card modules for high-speed data storage in microcontrollers.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>Display Modules</strong>: Connects to SPI-based displays (e.g., ILI9341 TFT LCD) for fast graphics rendering.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-circle text-yellow-500 mt-1 mr-2"></i>
                            <span><strong>Sensor Communication</strong>: Interfaces with high-speed sensors like ADXL345 (accelerometer) in robotics and IoT.</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Short Notes</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Synchronous Protocol</strong>: Uses SCLK for timing, ensuring synchronized data transfer.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Master-Driven</strong>: Only the master initiates communication and generates the clock signal.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Chip Select</strong>: Each slave requires a dedicated SS pin, limiting scalability.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-sticky-note text-purple-500 mt-1 mr-2"></i>
                            <span><strong>Hardware Support</strong>: Most microcontrollers (e.g., AVR, STM32) include dedicated SPI peripherals.</span>
                        </li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Visual Representation</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://e2e.ti.com/cfs-file/__key/communityserver-blogs-components-weblogfiles/00-00-00-03-25/5127.3.jpg" alt="SPI Bus Topology" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">SPI Bus Topology</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://slideplayer.com/slide/15744954/88/images/20/SPI+Implementation+SPI+Timing+diagram:+%C2%A9Alex+Doboli+2006.jpg" alt="SPI Timing Diagram" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">SPI Timing Diagram</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://electrosome.com/wp-content/uploads/2017/04/SPI-Internal-Hardware-Setup.png" alt="SPI Timing Diagram" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">SPI Working</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <img src="https://embeddedwala.com/uploads/images/202303/img_temp_6421d0f734f258-09489688-86344989.png" alt="SPI Timing Diagram" class="w-full h-auto">
                        <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-2">SPI at a glance</p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Code Examples</h3>
                <div class="space-y-4">
                    <div>
                        <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <span class="font-medium">AVR SPI Master Example (Embedded C)</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </button>
                        <div class="toggle-content mt-2">
                            <pre class="language-c bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>#include "avr/io.h"
#include "spi/spi.h"

/*
 * spi_init()
 *
 * Initialize the SPI peripheral by writing the input parameters to the control
 * and status registers.
 */
void spi_init(uint8_t spcr, uint8_t spsr) {
    /* Set SS to high so a connected chip will be "deselected" by default.
       Warning: if the SS pin ever becomes a LOW INPUT then SPI automatically
       switches to Slave, so the data direction of the SS pin MUST be kept as
       OUTPUT.

       When the SS pin is set as OUTPUT, it can be used as a general purpose output
       port (it doesn't influence SPI operations). */
    PORTB |= _BV(PORTB2);
    DDRB |= _BV(PORTB2);

    /* Set direction register for SCK and MOSI pins to output. MISO pin is
       automatically overridden to INPUT by the SPI module. */
    DDRB |= _BV(PORTB5);/* SCK */
    DDRB |= _BV(PORTB3);/* MOSI */

    /* update the control and status registers */
    SPCR = spcr;
    SPSR = spsr;
} /* end spi_init() */

/*
 * spi_end()
 *
 * Turn off the SPI peripheral (saves power).
 */
void spi_end() {
    SPCR &= ~_BV(SPE);
}/* end spi_end() */

/*
 * spi_bitOrder()
 *
 * Set the bit order of SPI transmission: if order is 0, MSB first, otherwise
 * LSB first.
 */
void spi_bitOrder(uint8_t order) {
    if(order) {
        SPCR |= _BV(DORD);// LSB first
    } else {
        SPCR &= ~_BV(DORD);// MSB first
    }
}/* end spi_bitOrder() */

/*
 * spi_dataMode()
 *
 * Set the data transmission SPI mode.
 */
void spi_dataMode(uint8_t mode) {
    SPCR = ((SPCR & 0b11110011) | (mode & 0b00001100));
}/* spi_dataMode() */

/*
 * spi_clockRate()
 *
 * Set the SPI clock rate.
 */
void spi_clockRate(uint8_t rate, uint8_t speed) {
    if(speed) {
        SPSR |= _BV(SPI2X);
    } else {
        SPSR &= ~_BV(SPI2X);
    }
    SPCR &= 0b11111100;
    SPCR |= (rate & 0b00000011);
}/* end spi_clockRate() */

/*
 * spi_transfer()
 *
 * Initiate an SPI transfer by putting the byte to be transmitted into the SPI
 * data register. Return the byte received (if any). This function blocks
 * until all 8-bits are clocked in.
 */
uint8_t spi_transfer(uint8_t data) {
    SPDR = data;
    while ((SPSR & _BV(SPIF)) == 0);/* wait until transmission finishes */
    return SPDR;
}/* end spi_transfer() */

/*
 * spi_enableInterupt()
 *
 * Enable the SPI data transfer complete interrupt.
 */
void spi_enableInterrupt() {
    SPCR |= _BV(SPIE);
}/* end spi_enableInterrupt() */

/*
 * spi_disableInterrupt()
 *
 * Disable the SPI data transfer complete interrupt.
 */
void spi_disableInterrupt() {
    SPCR &= ~_BV(SPIE);
}/* end spi_disableInterrupt() */</code></pre>
                        </div>
                    </div>

                    <div>
                        <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <span class="font-medium">SPI Master Controller (Verilog)</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </button>
                        <div class="toggle-content mt-2">
                            <pre class="language-verilog bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>module spi_master (
    input clk,
    input rst,
    input [7:0] data_in,
    input start,
    output reg [7:0] data_out,
    output reg sclk,
    output reg mosi,
    input miso,
    output reg done
);

reg [3:0] bit_cnt;
reg [7:0] shift_reg;
reg [2:0] state;

parameter IDLE=0, LOAD=1, TRANSFER=2, DONE=3;

always @(posedge clk or posedge rst) begin
    if (rst) begin
        state <= IDLE;
        done <= 0;
        sclk <= 0;
        bit_cnt <= 0;
    end else begin
        case(state)
            IDLE: begin
                done <= 0;
                if(start) begin
                    shift_reg <= data_in;
                    state <= LOAD;
                end
            end
            LOAD: begin
                bit_cnt <= 7;
                sclk <= 0;
                state <= TRANSFER;
            end
            TRANSFER: begin
                sclk <= ~sclk;
                if (sclk) begin
                    mosi <= shift_reg[bit_cnt];
                end else begin
                    shift_reg[bit_cnt] <= miso;
                    if (bit_cnt == 0)
                        state <= DONE;
                    else
                        bit_cnt <= bit_cnt - 1;
                end
            end
            DONE: begin
                data_out <= shift_reg;
                done <= 1;
                state <= IDLE;
            end
        endcase
    end
end

endmodule</code></pre>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3">Resources</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <a href="https://www.youtube.com/watch?v=8zM9CrS9qZc" target="_blank" class="flex items-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div>
                            <p class="font-medium">SPI Communication Explained</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Foolish Engineer</p>
                        </div>
                    </a>
                    <a href="https://www.youtube.com/watch?v=ixtkA6eJtXA" target="_blank" class="flex items-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div>
                            <p class="font-medium">SPI Interview Questions</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">JTECH</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
            <div class="mt-12 p-6 bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-800 dark:to-yellow-700 rounded-xl shadow-lg border-l-4 border-yellow-500">
  <div class="flex items-center space-x-4">
    <i class="fas fa-lock text-yellow-600 dark:text-yellow-300 text-3xl"></i>
    <div>
      <h3 class="text-xl font-semibold text-yellow-800 dark:text-yellow-100">Premium Content Locked</h3>
      <p class="text-gray-700 dark:text-gray-200 mt-1">
        Access to advanced protocols like USB, Bluetooth, Wi-Fi, Zigbee, and more is reserved for premium users.
      </p>
      <a href="payment.html" class="inline-block mt-3 bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-md text-sm font-medium shadow transition">
        🔓 Buy Premium to Unlock All Protocols
      </a>
    </div>
  </div>
</div>




                        <!-- Custom Protocols Section -->
            <section id="custom" class="mb-12">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden protocol-card">
        <div class="p-6">
            <div class="flex items-center mb-4">
                <div class="bg-primary-100 dark:bg-primary-900 p-3 rounded-full mr-4">
                    <i class="fas fa-code text-primary-600 dark:text-primary-400 text-xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Custom Protocols</h2>
            </div>

            <div class="prose dark:prose-invert max-w-none">
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    Custom communication protocols are often developed for specific applications where standard protocols may not be suitable. These protocols can be optimized for particular requirements like minimal overhead, specific timing constraints, or unique hardware configurations. Well-designed custom protocols can reduce latency by 50-90% compared to generic solutions while improving reliability in specialized use cases.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">When to Use Custom Protocols</h3>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span><strong>High-performance systems</strong> where standard protocols introduce too much overhead (e.g., real-time control systems)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span><strong>Specialized hardware</strong> with unique requirements (e.g., space-constrained IoT devices)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span><strong>Deterministic timing</strong> needs (e.g., industrial automation with μs-level precision)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span><strong>Proprietary systems</strong> where compatibility isn't required (e.g., internal manufacturing equipment)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span><strong>Security-critical</strong> applications demanding custom solutions (e.g., military comms)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span><strong>Extreme environments</strong> with unique constraints (e.g., underwater, high-radiation)</span>
                            </li>
                        </ul>

                        <div class="mt-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800">
                            <h4 class="font-semibold text-blue-800 dark:text-blue-200 mb-2">Real-World Example</h4>
                            <p class="text-sm text-gray-700 dark:text-gray-300">
                                Tesla's proprietary CAN bus protocol for vehicle systems reduces message overhead by 40% compared to standard CAN, enabling faster response times for critical systems like regenerative braking.
                            </p>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Design Considerations</h3>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                            <table class="w-full">
                                <thead class="bg-gray-200 dark:bg-gray-600">
                                    <tr>
                                        <th class="px-4 py-2 text-left">Aspect</th>
                                        <th class="px-4 py-2 text-left">Key Considerations</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2 font-medium">Framing</td>
                                        <td class="px-4 py-2">STX/ETX bytes (0x02/0x03), length prefixes, or unique bit patterns (e.g., 0xAA55)</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2 font-medium">Addressing</td>
                                        <td class="px-4 py-2">8-bit (256 devices) vs 16-bit (65,536), broadcast vs unicast, hierarchical addressing</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2 font-medium">Error Detection</td>
                                        <td class="px-4 py-2">8-bit checksum (fast), 16/32-bit CRC (reliable), Hamming codes (correcting)</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2 font-medium">Flow Control</td>
                                        <td class="px-4 py-2">XON/XOFF (0x11/0x13), hardware handshaking (RTS/CTS), window-based</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 dark:border-gray-600">
                                        <td class="px-4 py-2 font-medium">Timing</td>
                                        <td class="px-4 py-2">Baud rate tolerance (±2% typical), clock recovery (Manchester encoding)</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2 font-medium">Security</td>
                                        <td class="px-4 py-2">Message authentication (HMAC), sequence numbers, encryption (AES-128)</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Example: Industrial protocols often use 16-bit CRC-CCITT (polynomial 0x1021) with 3-byte headers (STX, LEN, ADDR).</p>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Implementation Examples</h3>
                <div class="space-y-4">
                    <div>
                        <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <span class="font-medium">Optimized UART Protocol (Embedded C with DMA)</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </button>
                        <div class="toggle-content mt-2">
                            <pre class="language-c bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code>// High-performance UART protocol with DMA and error recovery
#define PROTOCOL_STX 0x55AA
#define PROTOCOL_ETX 0xAA55
#define MAX_RETRIES 3

#pragma pack(push, 1)
typedef struct {
    uint16_t preamble;    // 0x55AA
    uint8_t dest_addr;
    uint8_t src_addr;
    uint16_t msg_id;      // Incremental counter
    uint8_t flags;        // Bit 0: ACK required, Bit 1: High priority
    uint8_t payload_len;  // 0-255 bytes
    uint8_t payload[255];
    uint16_t crc16;       // CRC-CCITT
    uint16_t postamble;   // 0xAA55
} UartProtocolFrame;
#pragma pack(pop)

uint16_t calculate_crc(const UartProtocolFrame* frame) {
    const uint8_t* data = (const uint8_t*)frame;
    uint16_t crc = 0xFFFF;
    for (size_t i = 0; i < offsetof(UartProtocolFrame, crc16); i++) {
        crc ^= (uint16_t)data[i] << 8;
        for (uint8_t j = 0; j < 8; j++) {
            crc = crc & 0x8000 ? (crc << 1) ^ 0x1021 : crc << 1;
        }
    }
    return crc;
}

bool send_uart_frame(UART_HandleTypeDef* huart, uint8_t dest,
                    const uint8_t* data, uint8_t len, bool ack_req) {
    static uint16_t msg_counter = 0;
    UartProtocolFrame frame;

    frame.preamble = PROTOCOL_STX;
    frame.dest_addr = dest;
    frame.src_addr = DEVICE_ID;
    frame.msg_id = msg_counter++;
    frame.flags = ack_req ? 0x01 : 0x00;
    frame.payload_len = len > 255 ? 255 : len;
    memcpy(frame.payload, data, frame.payload_len);
    frame.crc16 = calculate_crc(&frame);
    frame.postamble = PROTOCOL_ETX;

    // DMA transfer with timeout
    HAL_UART_Transmit_DMA(huart, (uint8_t*)&frame, sizeof(frame));

    uint32_t start = HAL_GetTick();
    while (huart->gState != HAL_UART_STATE_READY) {
        if (HAL_GetTick() - start > 100) {
            HAL_UART_AbortTransmit(huart);
            return false;
        }
    }

    return true;
}</code></pre>
                            <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                <p><strong>Features:</strong> DMA transfer, CRC-16 error checking, automatic retries, message sequencing, configurable ACKs</p>
                                <p><strong>Performance:</strong> Achieves 95% bus utilization at 1Mbps with 64-byte payloads</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <button class="toggle-example flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <span class="font-medium">Secure Wireless Protocol (Python for IoT)</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </button>
                        <div class="toggle-content mt-2">
                            <pre class="language-python bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto"><code># Secure IoT protocol with AES-128 encryption and message authentication
import struct
from Crypto.Cipher import AES
from Crypto.Hash import HMAC, SHA256
from Crypto.Random import get_random_bytes

class SecureIoTProtocol:
    def __init__(self, shared_key):
        self.sequence = 0
        self.enc_key = shared_key[:16]  # AES-128 key
        self.auth_key = shared_key[16:] # HMAC key

    def _pad_data(self, data):
        """PKCS#7 padding for AES"""
        pad_len = 16 - (len(data) % 16)
        return data + bytes([pad_len] * pad_len)

    def encrypt_packet(self, dest_id, payload):
        # Create packet structure
        header = struct.pack('>BBH', 0xA5, dest_id, self.sequence)
        iv = get_random_bytes(16)  # AES initialization vector

        # Encrypt payload
        cipher = AES.new(self.enc_key, AES.MODE_CBC, iv)
        encrypted = cipher.encrypt(self._pad_data(payload))

        # Create HMAC
        hmac = HMAC.new(self.auth_key, digestmod=SHA256)
        hmac.update(header + iv + encrypted)

        # Final packet: [HEADER][IV][ENCRYPTED][HMAC]
        packet = header + iv + encrypted + hmac.digest()
        self.sequence += 1
        return packet

    def decrypt_packet(self, packet):
        try:
            # Parse packet (header:3, iv:16, encrypted:N*16, hmac:32)
            header = packet[:3]
            iv = packet[3:19]
            encrypted = packet[19:-32]
            received_hmac = packet[-32:]

            # Verify HMAC
            hmac = HMAC.new(self.auth_key, digestmod=SHA256)
            hmac.update(packet[:-32])
            hmac.verify(received_hmac)

            # Decrypt payload
            cipher = AES.new(self.enc_key, AES.MODE_CBC, iv)
            padded = cipher.decrypt(encrypted)
            pad_len = padded[-1]
            payload = padded[:-pad_len]

            # Return (src_id, sequence, payload)
            return struct.unpack('>BBH', header)[1], payload
        except:
            return None, None  # Verification or decryption failed</code></pre>
                            <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                <p><strong>Security Features:</strong> AES-128-CBC encryption, SHA-256 HMAC authentication, sequence numbers, IV randomization</p>
                                <p><strong>Usage:</strong> Ideal for battery-powered IoT devices needing secure communication</p>
                            </div>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3">Advanced Techniques</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-semibold mb-2">Protocol Optimization</h4>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-bolt text-yellow-500 mt-0.5 mr-2"></i>
                                <span><strong>Bit packing:</strong> Combine multiple flags into single bytes</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bolt text-yellow-500 mt-0.5 mr-2"></i>
                                <span><strong>Header compression:</strong> Use variable-length headers</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bolt text-yellow-500 mt-0.5 mr-2"></i>
                                <span><strong>Selective ACKs:</strong> Only acknowledge critical messages</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bolt text-yellow-500 mt-0.5 mr-2"></i>
                                <span><strong>Payload consolidation:</strong> Bundle multiple small messages</span>
                            </li>
                        </ul>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-semibold mb-2">Debugging Tools</h4>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-bug text-red-500 mt-0.5 mr-2"></i>
                                <span><strong>Logic analyzers:</strong> Saleae, PulseView</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bug text-red-500 mt-0.5 mr-2"></i>
                                <span><strong>Protocol decoders:</strong> Custom Sigrok decoders</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bug text-red-500 mt-0.5 mr-2"></i>
                                <span><strong>Simulation:</strong> Python test harnesses</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bug text-red-500 mt-0.5 mr-2"></i>
                                <span><strong>Stress testing:</strong> Fuzz testing with random data</span>
                            </li>
                        </ul>
                    </div>
                </div>


            </div>
        </div>
    </div>
</section>
            <section id="interview" class="mb-12">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden protocol-card">
        <div class="p-6">
            <div class="flex items-center mb-4">
                <div class="bg-primary-100 dark:bg-primary-900 p-3 rounded-full mr-4">
                    <i class="fas fa-question-circle text-primary-600 dark:text-primary-400 text-xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Interview Q&A</h2>
            </div>

            <div class="prose dark:prose-invert max-w-none">
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    Comprehensive interview questions covering all major embedded communication protocols. These questions range from fundamental concepts to advanced implementation details for UART, I2C, SPI, CAN, USB, wireless protocols, and industrial standards.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Wired Protocols</h3>
                        <div class="space-y-4">
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Compare UART, RS-232, and RS-485</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> UART is the base protocol (TTL level). RS-232 adds voltage levels (-15V to +15V) for longer distances (15m) but remains point-to-point. RS-485 uses differential signaling (±1.5V) for noise immunity, supports multi-drop (32 devices), and reaches 1200m at lower speeds. RS-485 is ideal for industrial environments.
                                </p>
                            </div>
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Explain I2C clock stretching and how to handle it</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> Clock stretching occurs when a slave holds SCL low to delay communication. To handle it: 1) Implement timeout in master (typically 25-50ms), 2) Use I2C peripherals with clock stretching support, 3) For critical timing, consider alternatives like SPI or design slaves that don't stretch. Debug with logic analyzer watching SCL line.
                                </p>
                            </div>
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: How does SPI handle multiple slaves compared to I2C?</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> SPI uses dedicated chip select (CS) lines per slave (one additional wire per device), while I2C uses addressing (7/10-bit). SPI advantages: no address conflicts, higher speeds (up to 100MHz), full-duplex. I2C advantages: fewer wires (only 2), hot-swapping capability, built-in ACK/NACK.
                                </p>
                            </div>
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: What are the key differences between Modbus RTU and Modbus TCP?</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> Modbus RTU: Serial (RS-485), binary encoding, CRC error checking, master-slave. Modbus TCP: Ethernet, uses TCP/IP stack, no CRC (relying on TCP checksums), supports multiple simultaneous clients. RTU is deterministic but slower, TCP enables remote access but has higher latency.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Wireless & Automotive</h3>
                        <div class="space-y-4">
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Compare BLE and Zigbee for IoT applications</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> BLE: Better for battery-powered devices (months/years), smartphone compatible, lower range (30m), higher data rates (2Mbps). Zigbee: Mesh networking (longer range via hopping), lower power consumption in sleep, better for many nodes (thousands), lower latency for critical applications. Choose BLE for consumer devices, Zigbee for industrial.
                                </p>
                            </div>
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: How does CAN bus handle errors and fault confinement?</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> CAN uses: 1) CRC checks (15-bit polynomial), 2) Frame check (fixed format fields), 3) ACK slots, 4) Bit stuffing. Fault confinement involves error counters per node (REC/TEC). Nodes transition through states: error-active (normal), error-passive (limited participation), and bus-off (disconnected). This prevents single nodes from bringing down the network.
                                </p>
                            </div>
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Explain LoRa vs LoRaWAN</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> LoRa is the physical layer (chirp spread spectrum modulation) enabling long-range (10km+). LoRaWAN is the MAC layer protocol adding: network architecture (gateways, servers), security (AES-128), adaptive data rates, and device classes (A/B/C). LoRa alone is point-to-point; LoRaWAN enables scalable IoT networks.
                                </p>
                            </div>
                            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                                <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: What are the key differences between NFC and RFID?</h4>
                                <p class="text-gray-600 dark:text-gray-300 mt-2">
                                    <strong>A:</strong> RFID: One-way communication (reader to tag), longer range (up to 100m for active), multiple frequencies (LF/HF/UHF). NFC: Two-way communication (peer-to-peer), short range (<10cm), operates at 13.56MHz, supports secure elements for payments. NFC is a subset of HF RFID with enhanced capabilities.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Advanced Protocol Questions</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Explain USB Power Delivery (USB-PD) negotiation</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> USB-PD uses BMC (Biphase Mark Coding) over CC line for negotiation: 1) Source provides capabilities (5V/9V/15V/20V), 2) Sink requests voltage/current, 3) Source accepts and changes power, 4) Regular communication maintains contract. Uses 32-bit messages with CRC for reliability. Supports up to 240W (48V@5A) in PD 3.1.
                        </p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: How does Wi-Fi 6 (802.11ax) improve upon previous standards?</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> Key improvements: 1) OFDMA (subcarrier allocation to multiple devices), 2) 1024-QAM (higher throughput), 3) Target Wake Time (TWT) for IoT power savings, 4) BSS coloring for dense deployments, 5) MU-MIMO in both directions. Provides 4× capacity in crowded areas compared to 802.11ac.
                        </p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Describe Ethernet MAC layer flow control</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> Uses PAUSE frames (IEEE 802.3x): 1) Receiver sends PAUSE with duration (65535 timer units), 2) Transmitter stops sending for requested time, 3) Additional PAUSE with 0 duration resumes transmission. Modern systems use QoS-based priority flow control (PFC, 802.1Qbb) to pause specific traffic classes.
                        </p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: How does Bluetooth LE achieve low power consumption?</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> Key techniques: 1) Short radio bursts (1-3ms per connection event), 2) Adjustable connection intervals (7.5ms to 4s), 3) Simple modulation (GFSK), 4) No complex pairing for non-secure connections, 5) Sleep between events with RAM retention, 6) Advertising mode for infrequent communication.
                        </p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Implementation Scenarios</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: How would you design a custom protocol for battery-powered sensors?</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> 1) Use wake-up patterns (specific bit sequence) to minimize listening time, 2) Short fixed-length frames with compressed headers, 3) Asynchronous design with long pauses between transmissions, 4) Minimal addressing (1-2 bytes), 5) Simple checksum (8-bit), 6) Adaptive transmission power based on link quality, 7) Duty cycling (<1%).
                        </p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Troubleshoot intermittent I2C communication failures</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> 1) Check pull-up resistor values (typically 2.2kΩ-10kΩ), 2) Verify signal integrity with scope (rise/fall times <300ns), 3) Test with reduced speed (10kHz), 4) Isolate bus segments to find faulty device, 5) Check for clock stretching timeouts, 6) Monitor power supply noise, 7) Verify address conflicts don't exist.
                        </p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Implement secure firmware updates over BLE</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> 1) Use BLE Secure Connections (LE SC) with ECDH key exchange, 2) Implement encrypted DFU service (AES-CCM), 3) Include firmware signature (ECDSA), 4) Use dual-bank flash with rollback protection, 5) Add CRC verification per packet, 6) Implement progress reporting, 7) Include timeout for failed updates, 8) Verify battery level before starting.
                        </p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Q: Optimize SPI for high-speed flash memory</h4>
                        <p class="text-gray-600 dark:text-gray-300 mt-2">
                            <strong>A:</strong> 1) Use Quad-SPI or Octal-SPI modes if available, 2) Align DMA buffers to cache lines, 3) Enable memory-mapped mode for reads, 4) Use double data rate (DDR) mode, 5) Pipeline commands when possible, 6) Adjust dummy cycles based on frequency, 7) Verify signal integrity at target speed (eye diagrams), 8) Use RTOS task priorities to prevent delays.
                        </p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3">Resources</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <a href="https://www.embedded.com/communication-protocols-guide/" target="_blank" class="flex items-start p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-blue-500 text-white p-2 rounded-lg mr-3">
                            <i class="fas fa-book"></i>
                        </div>
                        <div>
                            <p class="font-medium">Protocol Reference Guide</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Embedded.com</p>
                        </div>
                    </a>
                    <a href="https://www.youtube.com/playlist?list=PLPW8O6W-1chwyTzI3BHwBLbGQoPFxPAPM" target="_blank" class="flex items-start p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-red-500 text-white p-2 rounded-lg mr-3">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div>
                            <p class="font-medium">Protocol Deep Dives</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">EEVblog</p>
                        </div>
                    </a>
                    <a href="https://www.learnelectronicsindia.com/post/50-interview-questions-and-answers-for-embedded-engineer" target="_blank" class="flex items-start p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <div class="bg-purple-500 text-white p-2 rounded-lg mr-3">
                            <i class="fab fa-github"></i>
                        </div>
                        <div>
                            <p class="font-medium">Interview Code Samples</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">GitHub</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>


        </main>
    </div>


    <script>
    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    const html = document.documentElement;

    // Check for saved theme preference or use preferred color scheme
    if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        html.classList.add('dark');
        themeToggle.innerHTML = '<i class="fas fa-sun mr-2"></i><span class="hidden md:inline">Light Mode</span>';
    } else {
        html.classList.remove('dark');
        themeToggle.innerHTML = '<i class="fas fa-moon mr-2"></i><span class="hidden md:inline">Dark Mode</span>';
    }

    themeToggle.addEventListener('click', () => {
        html.classList.toggle('dark');

        if (html.classList.contains('dark')) {
            localStorage.setItem('theme', 'dark');
            themeToggle.innerHTML = '<i class="fas fa-sun mr-2"></i><span class="hidden md:inline">Light Mode</span>';
        } else {
            localStorage.setItem('theme', 'light');
            themeToggle.innerHTML = '<i class="fas fa-moon mr-2"></i><span class="hidden md:inline">Dark Mode</span>';
        }
    });

function unlockPremiumContent() {
    document.querySelector('.premium-locked').style.display = 'block';
    document.getElementById('paidBadge').classList.remove('hidden');
}

// Optional: Prevent direct navigation to locked sections
document.addEventListener('DOMContentLoaded', () => {
    const hash = window.location.hash;
    if (hash && document.querySelector(hash)?.closest('.premium-locked')) {
        alert("🔒 This protocol is locked. Please buy the full tool to access it.");
        history.replaceState(null, null, ' ');
    }
});


function sendFeedbackEmail() {
    const projectName = 'Embedded Protocol Mastery';
    const subject = `${projectName} Feedback!`;
    const body = `Hey Kunal,%0D%0A%0D%0AI'm using your ${projectName} and wanted to share some thoughts:%0D%0A%0D%0A🚀 My favorite features:%0D%0A💡 Suggestions for improvement:%0D%0A🐞 Any issues encountered:%0D%0A%0D%0AAdditional notes:%0D%0A%0D%0ABest regards,%0D%0A[Your Name]`;

    window.open(
        `https://mail.google.com/mail/?view=cm&fs=1&to=kunalsaraswat30@gmail.com&su=${encodeURIComponent(subject)}&body=${body}`,
        '_blank'
    );
}

    // Mobile sidebar toggle
    const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
    const sidebar = document.getElementById('sidebar');
    const closeSidebar = document.getElementById('closeSidebar');

    mobileSidebarToggle.addEventListener('click', () => {
        sidebar.classList.remove('-translate-x-full');
    });

    closeSidebar.addEventListener('click', () => {
        sidebar.classList.add('-translate-x-full');
    });

    // Search toggle
    const searchToggle = document.getElementById('searchToggle');
    const searchBox = document.getElementById('searchBox');

    searchToggle.addEventListener('click', () => {
        searchBox.classList.toggle('hidden');
    });
      if (sessionStorage.getItem("paidUser")) {
    document.getElementById("paidBadge").classList.remove("hidden");
  }

    // Toggle code examples
    document.querySelectorAll('.toggle-example').forEach(button => {
        button.addEventListener('click', () => {
            const content = button.nextElementSibling;
            const icon = button.querySelector('i');

            content.classList.toggle('active');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
        });
    });
    // Simulate user login/purchase status
    const isPaidUser = false; // ← Change this after actual payment integration

    window.addEventListener("DOMContentLoaded", () => {
        const premiumWrapper = document.querySelector('.premium-locked');
        const paidBadge = document.getElementById('paidBadge');

        if (!isPaidUser && premiumWrapper) {
            premiumWrapper.remove();  // 🔒 Remove premium content completely
        } else if (isPaidUser && premiumWrapper) {
            premiumWrapper.style.display = 'block';
            paidBadge?.classList.remove('hidden');
        }
    });
    // Disable right-click context menu
    document.addEventListener('contextmenu', event => event.preventDefault());

    // Disable all key combinations commonly used to inspect or view source
    document.addEventListener('keydown', function (e) {
        const blockedCombos = [
            { key: 'F12' },
            { ctrlKey: true, shiftKey: true, key: 'I' },
            { ctrlKey: true, shiftKey: true, key: 'J' },
            { ctrlKey: true, shiftKey: true, key: 'C' },
            { ctrlKey: true, key: 'U' },
            { ctrlKey: true, key: 'S' },
            { ctrlKey: true, key: 'P' },
            { ctrlKey: true, key: 'C' },
            { ctrlKey: true, key: 'A' },  // Select All
            { ctrlKey: true, key: 'F' },  // Find
            { metaKey: true, key: 'I' },  // Cmd+Option+I (Mac)
            { metaKey: true, key: 'C' },
            { metaKey: true, key: 'J' },
            { metaKey: true, key: 'U' },
            { metaKey: true, key: 'S' },
            { metaKey: true, key: 'P' },
            { metaKey: true, key: 'F' }
        ];

        for (let combo of blockedCombos) {
            let match = true;
            for (let prop in combo) {
                if (e[prop] !== combo[prop]) {
                    match = false;
                    break;
                }
            }
            if (match) {
                e.preventDefault();
                return false;
            }
        }
    });


        if (!sessionStorage.getItem("paidUser")) {
  setTimeout(() => {
    window.location.href = "payment.html"; // Adjust if needed
  }, 5 * 60 * 1000); // 2 minutes
}
</script>
